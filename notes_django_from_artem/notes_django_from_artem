notes_django_from_artem

$ mkdir django_from_artem
$ cd django_from_artem/

$ python3 -m venv my_env
$ source my_env/bin/activate
$ pip install -U pip setuptools django

$ django-admin startproject mysite
$ cd mysite/

$ code .

$ python manage.py migrate
$ python manage.py runserver

$ python manage.py startapp blog

models.py
        from django.db import models
        from django.utils import timezone


        class Post(models.Model):
            title = models.CharField(max_length=250)   
            slug = models.SlugField(max_length=250, unique_for_date='publish')    
            body = models.TextField()       
            publish = models.DateTimeField(default=timezone.now)    
            created = models.DateTimeField(auto_now_add=True)    
            updated = models.DateTimeField(auto_now=True) 

            class Meta:
                ordering = ['-publish']

            indexes = [
                    models.Index(fields=['-publish']),
                ]

            def __str__(self):
                return self.title
                

settings.py
        INSTALLED_APPS = [
            'django.contrib.admin',
            'django.contrib.auth',
            'django.contrib.contenttypes',
            'django.contrib.sessions',
            'django.contrib.messages',
            'django.contrib.staticfiles',
            'blog.apps.BlogConfig',
        ]



models.py
        from django.db import models
        from django.utils import timezone
        from django.contrib.auth.models import User


        class Post(models.Model):

            class Status(models.TextChoices):
                DRAFT = 'DF', 'Draft'
                PUBLISHED = 'PB', 'Published'

            title = models.CharField(max_length=250)   
            slug = models.SlugField(max_length=250, unique_for_date='publish')
            author = models.ForeignKey(User,
                                       on_delete=models.CASCADE,
                                       related_name='blog_posts')    
            body = models.TextField()       
            publish = models.DateTimeField(default=timezone.now)    
            created = models.DateTimeField(auto_now_add=True)    
            updated = models.DateTimeField(auto_now=True) 
            status = models.CharField(max_length=2,
                                      choices=Status.choices,
                                      default=Status.DRAFT)

            class Meta:
                ordering = ['-publish']

            indexes = [
                    models.Index(fields=['-publish']),
                ]

            def __str__(self):
                return self.title

$ python manage.py makemigrations blog
$ python manage.py migrate
$ python manage.py createsuperuser

$ python manage.py runserver



admin.py
        from django.contrib import admin
        from .models import Post


        admin.site.register(Post)

–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω–∫—É

admin.py
        from django.contrib import admin
        from .models import Post


        @admin.register(Post)
        class PostAdmin(admin.ModelAdmin):
            list_display = ['title', 'slug', 'author', 'publish', 'status', 'created']
            # –ø—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –ø–æ–ª—è–º, –≤–∫–ª—é—á–µ–Ω–Ω—ã–º –≤ –∞—Ç—Ä–∏–±—É—Ç list_filter
            list_filter = ['status', 'created', 'publish', 'author']

            # —Å—Ç—Ä–æ–∫–∞ –ø–æ–∏—Å–∫–∞
            search_fields = ['title', 'body']

            # slug –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–æ—Å—Ç–∞)
            prepopulated_fields = {'slug': ('title',)}

            # –ø–æ–ª–µ author –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–∏—Å–∫–æ–≤—ã–º –≤–∏–¥–∂–µ—Ç–æ–º (–ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–æ—Å—Ç–∞)
            raw_id_fields = ['author']

            # –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –¥–∞—Ç
            date_hierarchy = 'publish'

            # –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º STATUS (–°—Ç–∞—Ç—É—Å) –∏ PUBLISH (–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω)
            ordering = ['status', 'publish']


–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω–∫—É, —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç


models.py
        from django.db import models
        from django.utils import timezone
        from django.contrib.auth.models import User


        # –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ-–ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –º–æ–¥–µ–ª–∏ Post, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã 
        class PublishedManager(models.Manager):
            def get_queryset(self):
                return super().get_queryset()\
                .filter(status=Post.Status.PUBLISHED)


        class Post(models.Model):

            class Status(models.TextChoices):
                DRAFT = 'DF', 'Draft'
                PUBLISHED = 'PB', 'Published'

            title = models.CharField(max_length=250)   
            slug = models.SlugField(max_length=250, unique_for_date='publish')
            author = models.ForeignKey(User,
                                       on_delete=models.CASCADE,
                                       related_name='blog_posts')    
            body = models.TextField()       
            publish = models.DateTimeField(default=timezone.now)    
            created = models.DateTimeField(auto_now_add=True)    
            updated = models.DateTimeField(auto_now=True) 
            status = models.CharField(max_length=2,
                                      choices=Status.choices,
                                      default=Status.DRAFT)
            
            objects = models.Manager() # –º–µ–Ω–µ–¥–∂–µ—Ä, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            published = PublishedManager() # –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ-–ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä

            class Meta:
                ordering = ['-publish']

            indexes = [
                    models.Index(fields=['-publish']),
                ]

            def __str__(self):
                return self.title


views.py
        from django.shortcuts import render
        from .models import Post
        from django.http import Http404


        # –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        def post_list(request):
            posts = Post.published.all()    
            
            return render(request,
                          'blog/post/list.html',
                          {'posts': posts})


        # –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –ø–æ—Å—Ç–∞ (s1). –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Å—Ç –ø–æ id
        def post_detail(request, id):
            try:
                post = Post.published.get(id=id)

            # –∏—Å–∫–ª—é—á–µ–Ω–∏–µ Http404, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É HTTP —Å –∫–æ–¥–æ–º 
            # —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Ä–∞–≤–Ω—ã–º 404, –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ DoesNotExist, 
            # —Ç–æ –µ—Å—Ç—å –º–æ–¥–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–æ—Å–∫–æ–ª—å–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω.
            except Post.DoesNotExist:
                raise Http404("No post found.")
           
            return render(request,
                          'blog/post/detail.html',
                          {'post': post})


        –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ get_object_or_404()
        
views.py
        from django.shortcuts import render, get_object_or_404
        from .models import Post
        from django.http import Http404


        # –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        def post_list(request):
            posts = Post.published.all()    
            
            return render(request,
                          'blog/post/list.html',
                          {'posts': posts})


        # –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –ø–æ—Å—Ç–∞ (s1). –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Å—Ç –ø–æ id
        def post_detail(request, id):
            # try:
            #     post = Post.published.get(id=id)

            # # –∏—Å–∫–ª—é—á–µ–Ω–∏–µ Http404, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É HTTP —Å –∫–æ–¥–æ–º 
            # # —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Ä–∞–≤–Ω—ã–º 404, –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ DoesNotExist, 
            # # —Ç–æ –µ—Å—Ç—å –º–æ–¥–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–æ—Å–∫–æ–ª—å–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω.
            # except Post.DoesNotExist:
            #     raise Http404("No post found.")
            
            # —Ñ—É–Ω–∫—Ü–∏—é —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ get() –∏ –≤—ã–∑–æ–≤–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è Http404 –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
            post = get_object_or_404(Post,
                                     id=id,
                                     status=Post.Status.PUBLISHED)
           
            return render(request,
                          'blog/post/detail.html',
                          {'post': post})



–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ URL-–∞–¥—Ä–µ—Å–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
blog —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª urls.py

urls.py
        from django.urls import path
        from . import views


        # –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
        app_name = 'blog'


        urlpatterns = [
            # –≤—Å–µ –ø–æ—Å—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            path('', views.post_list, name='post_list'),
            # –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ –ø–æ id
            path('<int:id>/', views.post_detail, name='post_detail'),
        ]


mysite/urls.py
        """
        URL configuration for mysite project.

        The `urlpatterns` list routes URLs to views. For more information please see:
            https://docs.djangoproject.com/en/4.2/topics/http/urls/
        Examples:
        Function views
            1. Add an import:  from my_app import views
            2. Add a URL to urlpatterns:  path('', views.home, name='home')
        Class-based views
            1. Add an import:  from other_app.views import Home
            2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
        Including another URLconf
            1. Import the include() function: from django.urls import include, path
            2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
        """
        from django.contrib import admin
        from django.urls import path, include

        urlpatterns = [
            path('admin/', admin.site.urls),
            path('blog/', include('blog.urls', namespace='blog')),
        ]


–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞
blog/templates/blog/base.html
        {% load static %}
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>
                {% block title %}
                {% endblock %}
            </title>

            <link href="{% static "css/blog.css" %}"  rel="stylesheet">

        </head>
        <body>
            <div id="content">
                {% block content %}
                {% endblock %}
            </div>

            <div id="sidebar">
                <h2>üìΩ –ö–∏–Ω–æ–±–ª–æ–≥ –°—Ç–∞—Ä–∏–Ω—Å–∫–æ–≥–æ</h2>
                <p>–ú–µ–Ω—é.</p>
            </div>
            
        </body>
        </html>


create
mysite/blog/static/css/blog.css

        body { 
            margin:0;
            padding:0;
            font-family:helvetica, sans-serif;     
        }

        a { 
            color:#066696;
            text-decoration:none; 
        }

        h1 { 
            font-weight:normal;
            border-bottom:1px solid #bbb;
            padding:0 0 10px 0;
        }

        h2 {
            font-weight:normal;
            margin:30px 0 0;
        }

        #content { 
            float:left;
            width:60%;
            padding:0 0 0 30px; 
            background-color: #86f7b1;
        }

        #sidebar { 
            float:right;
            width:30%;
            padding:10px;
            background:#9ef0ec; 
            height:100%;
        }

        p.date { 
            color:#1b9199;
            font-family: georgia, serif;
            font-size: 12px;
            font-style: italic; 
        }

        /* pagination */
        .pagination { 
            margin:40px 0; 
            font-weight:bold;
        }

        /* forms */
        label { 
            float:left;
            clear:both;
            color:#333;
            margin-bottom:4px; 
        }
        input, textarea { 
            clear:both;
            float:left;
            margin:0 0 10px;
            background:#ededed;
            border:0;
            padding:6px 10px;
            font-size:12px;
        }
        input[type=submit] {
            font-weight:bold;
            background:#00abff;
            color:#fff;
            padding:10px 20px;
            font-size:14px;
            text-transform:uppercase; 
        }
        .errorlist { 
            color:#cc0033;
            float:left;
            clear:both;
            padding-left:10px; 
        }

        /* comments */
        .comment {
            padding:10px;
        }
        .comment:nth-child(even) {
            background:#efefef;
        }
        .comment .info {
            font-weight:bold;
            font-size:12px;
            color:#666;
        }




blog/templates/blog/post/list.html
        {% extends "blog/base.html" %}

        {% block title %}
            My blog
        {% endblock %}

        {% block content %}
            <h1>My blog</h1>
            {% for post in posts %}
                <h2>            
                    <a href="{% url 'blog:post_detail' post.id %}">
                        {{ post.title }}
                    </a>            
                </h2>

                <p class="date">
                    Published {{ post.publish }} by {{ post.author }}
                </p>

                {{ post.body|truncatewords:30|linebreaks }}
            {% endfor %}
        {% endblock %}

        <!-- 
            –¥–≤–∞ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞: 
            truncatewords —É—Å–µ–∫–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ —Å–ª–æ–≤, –∞ 
            linebreaks –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ä–∞–∑—Ä—ã–≤—ã —Å—Ç—Ä–æ–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ HTML. 
        -->


$ python manage.py runserver


blog/templates/blog/post/detail.html
        {% extends "blog/base.html" %}

        {% block title %}
            {{ post.title }}
        {% endblock %}

        {% block content %}
            <h1>{{ post.title }}</h1>

            <p class="date">
                Publidhed {{ post.publish }} by {{ post.author }}
            </p>
            {{ post.body|linebreaks }}  
        {% endblock %}



–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö URL-–∞–¥—Ä–µ—Å–æ–≤ –¥–ª—è –º–æ–¥–µ–ª–µ–π (reverse() –∏
        get_absolute_url())

!!! –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å

models.py
        from django.urls import reverse

        ...
        ...
        def __str__(self):
                return self.title
            
        # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö URL-–∞–¥—Ä–µ—Å–æ–≤
        def get_absolute_url(self):
                return reverse('blog:post_detail',
                                args=[self.id])


list.html

        ...
        ...
         {% for post in posts %}
                <h2>            
                    <!-- <a href="{% url 'blog:post_detail' post.id %}"> -->
                        
                    <!-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö URL -->
                    <a href="{{ post.get_absolute_url }}">
                        {{ post.title }}
                    </a>            
                </h2>

        ...
        ...



$ ./manage.py runserver
–¢–µ–ø–µ—Ä—å Django —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç URL –ø–æ—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ get_absolute_url() –º–æ–¥–µ–ª–∏ Post.


–°–û–ó–î–ê–ù–ò–ï –î–†–£–ñ–ï–°–¢–í–ï–ù–ù–´–• –î–õ–Ø –ü–û–ò–°–ö–û–í–û–ô –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò URL-–ê–î–†–ï–°–û–í –ü–û–°–¢–û–í
        –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π URL-–∞–¥—Ä–µ—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Å—Ç–µ
        –±–ª–æ–≥–∞ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ 
        /blog/1/. 
        –ú—ã –∏–∑–º–µ–Ω–∏–º —à–∞–±–ª–æ–Ω URL-–∞–¥—Ä–µ—Å–∞, —á—Ç–æ–±—ã —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–ª—è
         –ø–æ–∏—Å–∫–æ–≤–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
        URL-–∞–¥—Ä–µ—Å–∞ –ø–æ—Å—Ç–æ–≤. –í —Ü–µ–ª—è—Ö —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è URL-–∞–¥—Ä–µ—Å–æ–≤ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
        –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞—Ç—É –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ publish –∏ –∑–Ω–∞—á–µ–Ω–∏—è slug. –ü—Ä–∏—Å–æ–µ–¥–∏-
        –Ω–∏–≤ –¥–∞—Ç—ã, –º—ã –ø—Ä–∏–≤–µ–¥–µ–º URL-–∞–¥—Ä–µ—Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Å—Ç–µ –∫ —Å–ª–µ–¥—É—é-
        —â–µ–º—É –≤–∏–¥—É: 
        /blog/2022/1/1/who-was-django-reinhardt/.
        
        –ú—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –º–æ–¥–µ–ª–∏ Post –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–ø–∏—Å–µ–π,
         –æ–ø—Ä–µ–¥–µ–ª–∏–≤, —á—Ç–æ —Å–ª–∞–≥–∏ —è–≤–ª—è—é—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –¥–ª—è
         –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞.




$ python manage.py makemigrations blog
$ python manage.py migrate
—Å–æ–∑–¥–∞–¥–∏–º –º–∏–≥—Ä–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏–≤–µ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
—Å —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –º–æ–¥–µ–ª–∏.
–ú–Ω–µ –Ω–µ –Ω—É–∂–Ω–æ, —Ç.–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—Ç 
        slug = models.SlugField(max_length=250,
                unique_for_date='publish')   - –Ω–∞–ø–∏—Å–∞–ª —Å—Ä–∞–∑—É
        
        —Ä–µ–∑-–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ -  No migrations to apply.
        (+ –û–±—Ä–∞—Ç–∏—Ç–µ
–≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä unique_for_date –Ω–µ —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω-
–Ω—ã—Ö, –ø–æ—ç—Ç–æ–º—É –º–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.)


        –í–∏–¥–æ–∏–∑–º–µ–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ URL-–∞–¥—Ä–µ—Å–æ–≤

urls.py
        urlpatterns = [
            # –≤—Å–µ –ø–æ—Å—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            path('', views.post_list, name='post_list'),

            # # –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ –ø–æ id
            # path('<int:id>/', views.post_detail, name='post_detail'),

            # –∏—Å–ø–æ–ª—å—é –¥–∞—Ç—É –∏ —Å–ª–∞–≥ –¥–ª—è URL-–∞–¥—Ä–µ—Å–∞ 
            path('<int:year>/<int:month>/<int:day>/<slug:post>/',
                 views.post_detail,
                 name='post_detail'),
        ]


        –í–∏–¥–æ–∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π

views.py
        # # –î–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –ø–æ—Å—Ç–∞ . –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Å—Ç –ø–æ id
        # def post_detail(request, id):
        #     # try:
        #     #     post = Post.published.get(id=id)


        #     # # –∏—Å–∫–ª—é—á–µ–Ω–∏–µ Http404, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É HTTP —Å –∫–æ–¥–æ–º 
        #     # # —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Ä–∞–≤–Ω—ã–º 404, –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ DoesNotExist, 
        #     # # —Ç–æ –µ—Å—Ç—å –º–æ–¥–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–æ—Å–∫–æ–ª—å–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω.
        #     # except Post.DoesNotExist:
        #     #     raise Http404("No post found.")        
            
        #     # —Ñ—É–Ω–∫—Ü–∏—é —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ get() 
        #     # –∏ –≤—ã–∑–æ–≤–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è Http404 –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
        #     post = get_object_or_404(Post,
        #                              id=id,
        #                              status=Post.Status.PUBLISHED)
            
           

        # –î–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞. –ò—Å–ø–æ–ª—å—é –¥–∞—Ç—É –∏ —Å–ª–∞–≥ –¥–ª—è URL-–∞–¥—Ä–µ—Å–∞ 
        def post_detail(request, year, month, day, post):
            post = get_object_or_404(Post,
                                     status=Post.Status.PUBLISHED,
                                     slug=post,
                                     publish__year=year,
                                     publish__month=month,
                                     publish__day=day)



        –í–∏–¥–æ–∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ URL-–∞–¥—Ä–µ—Å–∞ –ø–æ—Å—Ç–æ–≤
models.py
        ...
        ...
        # # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö URL-–∞–¥—Ä–µ—Å–æ–≤
            # def get_absolute_url(self):
            #     return reverse('blog:post_detail',
            #                    args=[self.id])


            # –∏—Å–ø–æ–ª—å—é –¥–∞—Ç—É –∏ —Å–ª–∞–≥ –¥–ª—è URL-–∞–¥—Ä–µ—Å–∞ 
            def get_absolute_url(self):
                return reverse('blog:post_detail',
                               args=[self.publish.year,
                                     self.publish.month,
                                     self.publish.day,
                                     self.slug])


$ python manage.py runserver
—Ç–µ–ø–µ—Ä—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ—Å—Ç
        http://127.0.0.1:8000/blog/2023/5/11/novaya-paradigma-realnosti-krov-stynet-v-zhilah/
        
        http://127.0.0.1:8000/blog/2023/5/10/socialno-orientirovannyj/

 –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ (–Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏) –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∑–∞–æ–ª–æ–≤–æ–∫ –∏ –¥–∞—Ç—É
 –∏ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –¥–≤–∞ –ø–æ—Å—Ç–∞ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –≤ –æ–¥–Ω—É –¥–∞—Ç—É!
 
 

–î–û–ë–ê–í–õ–ï–ù–ò–ï –ü–û–°–¢–†–ê–ù–ò–ß–ù–û–ô –†–ê–ó–ë–ò–í–ö–ò
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π —Ä–∞–∑–±–∏–≤–∫–∏ –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ—Å—Ç–æ–≤

views.py
        from django.core.paginator import Paginator


        # –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        # def post_list(request):
        #     posts = Post.published.all()    
            
        #     return render(request,
        #                   'blog/post/list.html',
        #                   {'posts': posts})


        # –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        # c –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π —Ä–∞–∑–±–∏–≤–∫–æ–π
        def post_list(request):
            # –ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ —Å 3 –ø–æ—Å—Ç–∞–º–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
            post_list = Post.published.all()
            paginator = Paginator(post_list, 3)
            # —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
            # –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ page –Ω–µ—Ç –≤ GET-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∑–∞–ø—Ä–æ—Å–∞, 
            # —Ç–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 1, 
            # —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
            page_number = request.GET.get('page', 1)
            posts = paginator.page(page_number)
            
            return render(request,
                          'blog/post/list.html',
                          {'posts': posts})


–°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π —Ä–∞–∑–±–∏–≤–∫–∏
—Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª templates/pagination.html

pagination.html
        <div class="pagination">
            <span class="step-links">
                {% if page.has_previous %}
                    <a href="?page={{ page.previous_page_number }}">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</a>
                {% endif %}

                <span class="current">
                    –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page.number }} –∏–∑ {{ page.paginator.num_pages }}.
                </span>

                {% if page.has_next %}
                    <a href="?page={{ page.next_page_number }}">–°–ª–µ–¥—É—é—â–∞—è</a>
                {% endif %}
            </span>
        </div>



list.html
        ...
        ...
         {{ post.body|truncatewords:30|linebreaks }}
            {% endfor %}
            
            <!-- –±–ª–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π -->
            {% include "pagination.html" with page=posts %}
        {% endblock %}


$ python manage.py runserver
—Å–æ–∑–¥–∞—Ç—å–º–∏–Ω 4 –ø–æ—Å—Ç–∞, —á—Ç–æ –±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é


        –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π —Ä–∞–∑–±–∏–≤–∫–∏

        –µ—Å–ª–∏ –≤ url –Ω–∞–±—Ä–∞—Ç—å –Ω–æ–º–µ—Ä –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        http://127.0.0.1:8000/blog/?page=4
        —Ç–æ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞
        –≤—ã–ø–æ–ª–Ω–∏–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –¥–ª—è —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞–µ–≤.

!!! –∫—Ç–æ, –∫–∞–∫–æ–π url –ª–æ–≤–∏—Ç —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä page=4?

views.py
        from django.core.paginator import Paginator, EmptyPage

        # –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        # c –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π —Ä–∞–∑–±–∏–≤–∫–æ–π
        def post_list(request):
            # –ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ —Å 3 –ø–æ—Å—Ç–∞–º–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
            post_list = Post.published.all()
            paginator = Paginator(post_list, 3)
            # —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
            # –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ page –Ω–µ—Ç –≤ GET-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∑–∞–ø—Ä–æ—Å–∞, 
            # —Ç–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 1, 
            # —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
            page_number = request.GET.get('page', 1)

            # –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –æ—à–∏–±–∫–æ–π
            try:
                posts = paginator.page(page_number)
            
            # –ï—Å–ª–∏ page_number –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞, —Ç–æ
            # –≤—ã–¥–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            except EmptyPage:
                posts = paginator.page(paginator.num_pages)
            
            return render(request,
                          'blog/post/list.html',
                          {'posts': posts})



$ python manage.py runserver
–ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–≤–µ—Å—Ç–∏ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

–î–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –≤ –ø–∞—Ä–∞-
–º–µ—Ç—Ä–µ page –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–µ—á—Ç–æ –æ—Ç–ª–∏—á–Ω–æ–µ –æ—Ç —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞.

        –ü—Ä–æ–π–¥–∏—Ç–µ –ø–æ URL-–∞–¥—Ä–µ—Å—É http://127.0.0.1:8000/blog/?page=asdf
        –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã asdf –æ–±—ä–µ–∫—Ç Paginator –≤—ã–¥–∞–µ—Ç –∏—Å-
        –∫–ª—é—á–µ–Ω–∏–µ PageNotAnInteger, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –º–æ–≥—É—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ
        —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏. 
        –æ–±—Ä–∞–±–æ—Ç–∞–µ–º —ç—Ç—É –æ—à–∏–±–∫—É –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏.

views.py
        from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger

        ...
        ...
        # –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –æ—à–∏–±–∫–æ–π
            try:
                posts = paginator.page(page_number)

            # –ï—Å–ª–∏ page_number –Ω–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, —Ç–æ
            # –≤—ã–¥–∞—Ç—å –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            except PageNotAnInteger:
                posts = paginator.page(1)
            
            # –ï—Å–ª–∏ page_number –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞, —Ç–æ
            # –≤—ã–¥–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            except EmptyPage:
                posts = paginator.page(paginator.num_pages)
            
            return render(request,
                          'blog/post/list.html',
                          {'posts': posts})

$ python manage.py runserver
–ø—Ä–æ–π–¥–∏—Ç–µ –ø–æ URL-–∞–¥—Ä–µ—Å—É http://127.0.0.1:8000/blog/?page=asdf
–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è



–†–ê–ó–†–ê–ë–û–¢–ö–ê –ü–†–ï–î–°–¢–ê–í–õ–ï–ù–ò–ô –ù–ê –û–°–ù–û–í–ï –ö–õ–ê–°–°–û–í
–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∞—Å—Å–æ–≤ –ø–æ-
–∑–≤–æ–ª—è—é—Ç:
‚Ä¢ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, –æ—Ç–Ω–æ—Å—è—â–∏–π—Å—è –∫ HTTP-–º–µ—Ç–æ–¥–∞–º, —Ç–∞–∫–∏–º
–∫–∞–∫ GET, POST –∏–ª–∏ PUT, –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—è –≤–µ—Ç–≤–ª–µ–Ω–∏–µ –ø–æ
—É—Å–ª–æ–≤–∏—é;
‚Ä¢ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∏—Å–ø–æ–ª—å-
–∑—É–µ–º—ã–µ –∫–ª–∞—Å—Å—ã-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (—Ç–∞–∫–∂–µ –∏–º–µ–Ω—É–µ–º—ã–µ –ø—Ä–∏–º–µ—Å—è–º–∏, –ø—Ä–∏–º–µ—Å-
–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏ –∏–ª–∏ –º–∏–∫—Å–∏–Ω–∞–º–∏).


–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∞—Å—Å–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø–æ—Å—Ç–æ–≤
        
        —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∞—Å—Å–∞, —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤-
        –ª–µ–Ω–∏—é post_list
        
        —Å–æ–∑–¥–∞–¥–∏–º –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ—Ç –ø—Ä–µ–¥–ª–∞
        -–≥–∞–µ–º–æ–≥–æ –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º Django —Ç–∏–ø–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è ListView.

views.py
        from django.views.generic import ListView

        class PostListView(ListView):
            '''
            –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ—Å—Ç–æ–≤
            –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∞—Å—Å–∞
            '''  
            queryset = Post.published.all()   
            context_object_name = 'posts'
            paginate_by = 3
            template_name = 'blog/post/list.html'

urls.py
        urlpatterns = [
            # # –≤—Å–µ –ø–æ—Å—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            # path('', views.post_list, name='post_list'),

            # –≤—Å–µ –ø–æ—Å—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∞—Å—Å–∞
            path('', views.PostListView.as_view(), name='post_list'),

            # # –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ –ø–æ id
            # path('<int:id>/', views.post_detail, name='post_detail'),

            # –∏—Å–ø–æ–ª—å—é –¥–∞—Ç—É –∏ —Å–ª–∞–≥ –¥–ª—è URL-–∞–¥—Ä–µ—Å–∞ 
            path('<int:year>/<int:month>/<int:day>/<slug:post>/',
                 views.post_detail,
                 name='post_detail'),
        ]

        —á—Ç–æ–±—ã –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∞ —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
        –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ —à–∞–±–ª–æ–Ω.
        –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤ Django —Ç–∏–ø–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ ListView –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—É—é
        —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å –∏–º–µ–Ω–µ–º page_obj.

        –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–æ—Ç-
        –≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω post/list.html, —á—Ç–æ–±—ã –≤—Å—Ç–∞-
        –≤–∏—Ç—å —Ä–∞–∑–±–∏–≤—â–∏–∫–∞, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é


list.html




        –ü–æ–ª—É—á–∞–µ—Ç—Å—è –ø—Ä–µ–¥—ã–¥—É—â–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞, —Ç.–∫. —Ä–∞–±–æ—Ç–∞–ª–∞ —Å —Ñ—É–Ω–∫—Ü–∏–µ–π 
        <!-- –±–ª–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π -->
    {% include "pagination.html" with page=posts %}

        {% extends "blog/base.html" %}

        {% block title %}
            –ö–∏–Ω–æ–±–ª–æ–≥ –°—Ç–∞—Ä–∏–Ω—Å–∫–æ–≥–æ
        {% endblock %}

        {% block content %}
            <h1>üìΩ –ö–∏–Ω–æ–±–ª–æ–≥ –°—Ç–∞—Ä–∏–Ω—Å–∫–æ–≥–æ</h1>
            {% for post in posts %}
                <h2>    
                    <!-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö URL -->
                    <a href="{{ post.get_absolute_url }}">
                        {{ post.title }}
                    </a>            
                </h2>

                <p class="date">
                    –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω: {{ post.publish }}, –∞–≤—Ç–æ—Ä: {{ post.author }}
                </p>

                {{ post.body|truncatewords:30|linebreaks }}
            {% endfor %}
                
            <!-- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∞—Å—Å–∞ -->
            {% include "pagination.html" with page=page_obj %}
        {% endblock %}

            

        <!-- 
            –¥–≤–∞ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞: 
            truncatewords —É—Å–µ–∫–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ —Å–ª–æ–≤, –∞ 
            linebreaks –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ä–∞–∑—Ä—ã–≤—ã —Å—Ç—Ä–æ–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ HTML. 
        -->



$ python manage.py runserver
–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ —Ä–∞–∑–±–∏—Ç—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–∞–∫–∏–º –∂–µ,–∫–∞–∫ –∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º
 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ post_list.
–ï—Å–ª–∏ –ø–æ–ø—ã-
—Ç–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–µ—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ
–∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ page, —Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä–Ω–µ—Ç HTTP-–æ—Ç–≤–µ—Ç —Å –∫–æ–¥–æ–º
—Å–æ—Å—Ç–æ—è–Ω–∏—è, —Ä–∞–≤–Ω—ã–º 404

        –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –≥–ª–∞–≤–∞ 13 –ë–ª—è!!!

        

–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø –ü–û–°–¢–û–í –ü–û –≠–õ–ï–ö–¢–†–û–ù–ù–û–ô –ü–û–ß–¢–ï
   –Ø –ü–†–û–ü–£–°–ö–ê–Æ –≠–¢–û!!
   

–°–û–ó–î–ê–ù–ò–ï –°–ò–°–¢–ï–ú–´ –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í
–Ω–∞—á–Ω–µ–º —Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–ª—å–∑–æ-
–≤–∞—Ç–µ–ª–µ–π –∫ –ø–æ—Å—Ç–∞–º.

--- –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ (–£–±—Ä–∞—Ç—å –º–∞–∏–ª)
models.py
        # –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ (–£–±—Ä–∞—Ç—å –º–∞–∏–ª)
        class Comment(models.Model):
            post = models.ForeignKey(Post,
                                     on_delete=models.CASCADE,
                                     related_name='comments')
            name = models.CharField(max_length=80)
            email = models.EmailField()
            body = models.TextField()
            created = models.DateTimeField(auto_now_add=True)
            updated = models.DateTimeField(auto_now=True)
            active = models.BooleanField(default=True)

            class Meta:
                ordering = ['created']
                indexes = [
                    models.Index(fields=['created'])
                ]

            def __str__(self):
                return f"Comment by {self.name} on {self.post}"


$ python manage.py makemigrations blo
$ python manage.py migrate

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–∞ —Å–∞–π—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

admin.py
        from .models import Post, Comment

        # –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
        @admin.register(Comment)
        class CommentAdmin(admin.ModelAdmin):
            list_display = ['name', 'email', 'post', 'created', 'active']
            list_filter = ['active', 'created', 'updated']
            search_fields = ['name', 'email', 'body']

$ python manage.py runserver


–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º –∏–∑ –º–æ–¥–µ–ª–µ–π
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–æ–º–ø–æ–Ω–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É, –ø–æ–∑–≤–æ–ª—è—é—â—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∫–æ–º-
–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã –±–ª–æ–≥–∞.
Django –µ—Å—Ç—å –¥–≤–∞ –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–∞,
–∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–æ—Ä–º: Form (–¥–µ–ª–∏—Ç—å—Å—è –ø–æ –ø–æ—á—Ç–µ) –∏ ModelForm (–±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å)

—Å–æ–∑–¥–∞—é  mysite/blog/forms.py (–≤ –ø—Ä–æ—à–ª–æ–º –ø—Ä–æ–µ–∫—Ç–µ –æ–Ω —Å–æ–∑–¥–∞–≤–∞–ª—Å—è, –∫–æ–≥–¥–∞ –ø–∏—Å–≤–ª –¥–µ–ª–∏—Ç—å—Å—è –ø–æ –ø–æ—á—Ç–µ)
forms.py
        from django import forms
        from .models import Comment


        # –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
        class CommentForm(forms.ModelForm):
            class Meta:
                # –¥–ª—è –∫–∞–∫–æ–π –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é —Ñ–æ—Ä–º—É
                model = Comment
                # –∫–∞–∫–∏–µ –ø–æ–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ñ–æ—Ä–º–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø –≤—Å–µ)
                fields = ['name', 'email', 'body']


–û–ø–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞–º–∏ ModelForm –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è—Ö
        –¥–æ–±–∞–≤–∏–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–Ω—É—é —Ñ–æ—Ä–º—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞-
        —Ü–∏–∏ –æ –ø–æ—Å—Ç–µ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ—Å–≤—è—â–µ–Ω–æ
        –ø–µ—Ä–µ–¥–∞—á–µ —Ñ–æ—Ä–º—ã –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É. –ù–æ–≤–æ–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–µ–µ —Ñ–æ—Ä–º—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
        –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä-
        –º–∞—Ü–∏–∏ –æ –ø–æ—Å—Ç–µ, –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

views.py
        from .models import Post, Comment
        from .forms import CommentForm
        from django.views.decorators.http import require_POST

        ...
        ...
        # –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
        @require_POST
        def post_comment(request, post_id):
            post = get_object_or_404(Post,
                                     id=post_id, 
                                     status=Post.Status.PUBLISHED)
            comment = None
            # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
            form = CommentForm(data=request.POST)
            if form.is_valid():
                # –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ Comment, –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—è –µ–≥–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
                comment = form.save(commit=False)
                # –ù–∞–∑–Ω–∞—á–∏—Ç—å –ø–æ—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—é
                comment.post = post
                # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
                comment.save()
            
            return render(request, 'blog/post/comment.html',
                          {'post': post,
                           'form': form,
                           'comment': comment})

        –ú—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ post_comment, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç
        request –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é post_id –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ-
        –≤–∞—Ç—å —ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–æ—Å—Ç–∞ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É. –ú—ã
        –æ–∂–∏–¥–∞–µ–º, —á—Ç–æ —Ñ–æ—Ä–º–∞ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º HTTP-–º–µ—Ç–æ–¥–∞
        POST. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º Django –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
        require_POST, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –º–µ—Ç–æ–¥–æ–º POST —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–µ–¥-
        —Å—Ç–∞–≤–ª–µ–Ω–∏—è. Django –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
        HTTP-–º–µ—Ç–æ–¥—ã. –ï—Å–ª–∏ –ø—ã—Ç–∞—Ç—å—Å—è –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –ª—é-
        –±–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ HTTP-–º–µ—Ç–æ–¥–∞, —Ç–æ Django –±—É–¥–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫—É HTTP 405 (–ú–µ—Ç–æ–¥
        –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω).
        
        –í —ç—Ç–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –Ω–∏–∂–µ –¥–µ–π—Å—Ç–≤–∏—è.
        1. –ü–æ id –ø–æ—Å—Ç–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Å—Ç, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é —Å–æ-
        –∫—Ä–∞—â–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ get_object_or_404().
        2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è comment —Å –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º None. –£–∫–∞-
        –∑–∞–Ω–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–Ω–æ–≥–æ
        –æ–±—ä–µ–∫—Ç–∞ –ø—Ä–∏ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–∏.
        3. –°–æ–∑–¥–∞–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä —Ñ–æ—Ä–º—ã, –∏—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É POST-
        –¥–∞–Ω–Ω—ã–µ, –∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –∏—Ö –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–º is_valid(). –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞
        –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, —Ç–æ —à–∞–±–ª–æ–Ω –ø—Ä–æ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–∞–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
        4. –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –≤–∞–ª–∏–¥–Ω–∞, —Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç Comment, –≤—ã–∑—ã–≤–∞—è –º–µ-
        —Ç–æ–¥ save() —Ñ–æ—Ä–º—ã, –∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π new_comment, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ
        –Ω–∏–∂–µ:
                comment = form.save(commit=False)
        5. –ú–µ—Ç–æ–¥ save() —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –º–æ–¥–µ–ª–∏, –∫ –∫–æ—Ç–æ—Ä–æ–π —Ñ–æ—Ä–º–∞ –ø—Ä–∏–≤—è–∑–∞–Ω–∞,
        –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å –µ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É—è commit=False,
        —Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –¢–∞–∫–æ–π
        –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–¥–æ–∏–∑–º–µ–Ω—è—Ç—å –æ–±—ä–µ–∫—Ç –ø–µ—Ä–µ–¥ –µ–≥–æ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–º —Å–æ-
        —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.
        
                –ú–µ—Ç–æ–¥ save() –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è ModelForm, –Ω–æ –Ω–µ –¥–ª—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
                –∫–ª–∞—Å—Å–∞ Form, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∏ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –Ω–∏ –∫ –æ–¥–Ω–æ–π –º–æ–¥–µ–ª–∏.
                
        6. –ü–æ—Å—Ç –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–Ω–æ–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—é:
                comment.post = post
        7. –ù–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø—É—Ç–µ–º –≤—ã–∑–æ–≤–∞ –µ–≥–æ –º–µ—Ç–æ–¥–∞
        save():
                comment.save()
        8. –ü—Ä–æ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è —à–∞–±–ª–æ–Ω blog/post/comment.html, –ø–µ—Ä–µ–¥–∞–≤–∞—è –æ–±—ä–µ–∫—Ç—ã
        post, form –∏ comment –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —à–∞–±–ª–æ–Ω–∞. –≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –µ—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç;
        –º—ã —Å–æ–∑–¥–∞–¥–∏–º –µ–≥–æ –ø–æ–∑–∂–µ.

urls.py
        urlpatterns = [
            # # –≤—Å–µ –ø–æ—Å—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            # path('', views.post_list, name='post_list'),

            # –≤—Å–µ –ø–æ—Å—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∞—Å—Å–∞ (–Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è)
            path('', views.PostListView.as_view(), name='post_list'),

            # # –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ –ø–æ id
            # path('<int:id>/', views.post_detail, name='post_detail'),

            # –∏—Å–ø–æ–ª—å—é –¥–∞—Ç—É –∏ —Å–ª–∞–≥ –¥–ª—è URL-–∞–¥—Ä–µ—Å–∞ 
            path('<int:year>/<int:month>/<int:day>/<slug:post>/',
                 views.post_detail,
                 name='post_detail'),

            # –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
             path('<int:post_id>/comment/',
                  views.post_comment, name='post_comment'),
        ]

–°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–Ω–æ–π —Ñ–æ—Ä–º—ã
—Å–æ–∑–¥–∞–¥–∏–º —à–∞–±–ª–æ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–Ω–æ–π —Ñ–æ—Ä–º—ã, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
–≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö:
        ‚Ä¢ –≤ —à–∞–±–ª–æ–Ω–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Å—Ç–µ, –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å –ø—Ä–µ–¥-
        —Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º post_detail, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥–ª–∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–æ–º-
        –º–µ–Ω—Ç–∞—Ä–∏–∏;
        ‚Ä¢ –≤ —à–∞–±–ª–æ–Ω–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∫ –ø–æ—Å—Ç—É, –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º
        post_comment, —á—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ñ–æ—Ä–º—É —Å–Ω–æ–≤–∞, –µ—Å–ª–∏ –≤ —Ñ–æ—Ä–º–µ –µ—Å—Ç—å –∫–∞–∫–∏–µ-
        –ª–∏–±–æ –æ—à–∏–±–∫–∏.
—Å–æ–∑–¥–∞–¥–∏–º —à–∞–±–ª–æ–Ω —Ñ–æ—Ä–º—ã –∏ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–π —Ç–µ–≥ 
        {% include %}, 
        —á—Ç–æ–±—ã –≤—Å—Ç–∞–≤–ª—è—Ç—å –µ–≥–æ –≤ –¥–≤–∞ –¥—Ä—É–≥–∏—Ö —à–∞–±–ª–æ–Ω–∞.
        
–í–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ templates/blog/post/ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–∞—Ç–∞–ª–æ–≥ includes/ & comment_form.html

mysite/blog/templates/blog/post/includes/comment_form.html
        <h2> –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h2>
        <form action="{% url "blog:post_comment" post.id %}" method="post">
            {{ form.as_p }}
            {% csrf_token %}
            <p><input type="submit" value="–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"></p>
        </form>


        –º—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ–º URL-–∞–¥—Ä–µ—Å action
        HTML-—ç–ª–µ–º–µ–Ω—Ç–∞ <form>, –∏—Å–ø–æ–ª—å–∑—É—è —à–∞–±–ª–æ–Ω–Ω—ã–π —Ç–µ–≥ {% url %}.

        –≤—Å—Ç–∞–≤–ª—è–µ–º —Ç–µ–≥
        {% csrf_token %}, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å—Å—è –æ—Ç CSRF, –ø–æ—Å–∫–æ–ª—å–∫—É –¥–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –±—É–¥–µ—Ç
        –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –º–µ—Ç–æ–¥–æ–º POST



–í–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ templates/blog/post/ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
blog –∏ –Ω–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ comment.html.



templates/blog/post/comment.html
        {% extends "blog/base.html" %}

        {% block title %}
            –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        {% endblock %}

        {% block content %}
            {% if comment %}
                <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω.</h2>
                <p><a href="{{ post.get_absolute_url }}">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ—Å—Ç—É</a></p>
            {% else %}
                {% include "blog/post/includes/comment_form.html" %}
            {% endif %}    
        {% endblock %}

        —Ñ–æ—Ä–º–∞ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –º–µ—Ç–æ–¥–æ–º POST.
        –®–∞–±–ª–æ–Ω –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è:
        ‚Ä¢ –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –≤–∞–ª–∏–¥–Ω—ã, —Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è comment –±—É–¥–µ—Ç
        —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç comment, –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ —Å–æ-
        –æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ;
        ‚Ä¢ –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –Ω–µ–≤–∞–ª–∏–¥–Ω—ã, —Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π comment
        –±—É–¥–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ None. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º—ã –æ—Ç–æ–±—Ä–∞–∑–∏–º –∫–æ–º–º–µ–Ω-
        —Ç–∞—Ä–Ω—É—é —Ñ–æ—Ä–º—É. –î–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–Ω–µ–µ —à–∞–±–ª–æ–Ω–∞ comment_form.html
        –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —à–∞–±–ª–æ–Ω–Ω—ã–π —Ç–µ–≥ {% include %}.


–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Å—Ç–µ

views.py
        # –î–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞. –ò—Å–ø–æ–ª—å—é –¥–∞—Ç—É –∏ —Å–ª–∞–≥ –¥–ª—è URL-–∞–¥—Ä–µ—Å–∞ 
        def post_detail(request, year, month, day, post):
            post = get_object_or_404(Post,
                                     status=Post.Status.PUBLISHED,
                                     slug=post,
                                     publish__year=year,
                                     publish__month=month,
                                     publish__day=day)
            
             # –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ —ç—Ç–æ–º—É –ø–æ—Å—Ç—É
            comments = post.comments.filter(active=True)

            # –§–æ—Ä–º–∞ –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
            form = CommentForm()

            return render(request,
                          'blog/post/detail.html',
                          {'post': post,
                           'comments': comments,
                           'form': form})


–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ —à–∞–±–ª–æ–Ω –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Å—Ç–µ
        ‚Ä¢ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±—â–µ–µ —á–∏—Å–ª–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –ø–æ—Å—Ç—É;
        ‚Ä¢ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤;
        ‚Ä¢ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–æ—Ä–º—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –Ω–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞-
        —Ä–∏–µ–≤.

detail.html
        {% extends "blog/base.html" %}

        {% block title %}
            {{ post.title }}
        {% endblock %}

        {% block content %}
            <h1>{{ post.title }}</h1>

            <p class="date">
                Publidhed {{ post.publish }} by {{ post.author }}
            </p>
            {{ post.body|linebreaks }}  

             <!-- –û–±—â–µ–µ —á–∏—Å–ª–æ –∫–æ–º-–µ–≤ –∫ –ø–æ—Å—Ç—É -->
            {% with comments.count as total_comments %}
                <h2>
                    {{ total_comments }} comment{{ total_comments|pluralize }}
                </h2>
            {% endwith %}
            
        {% endblock %}


        ‚Ä¢ –∏—Å–ø–æ–ª—å–∑—É–µ–º Django ORM-–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å, –ø—Ä–∏-
        –º–µ–Ω—è—è –Ω–∞–±–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ comments.count(). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –Ω–∞ —è–∑—ã–∫–µ
        —à–∞–±–ª–æ–Ω–æ–≤ Django –¥–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–æ–≤ –∫—Ä—É–≥–ª—ã–µ —Å–∫–æ–±–∫–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è. 
        ‚Ä¢ –¢–µ–≥ {% with %}
         –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∫–æ—Ç–æ—Ä–∞—è
         –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —à–∞–±–ª–æ–Ω–µ –¥–æ —Ç–µ—Ö –ø–æ—Ä, 
         –ø–æ–∫–∞ –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è —Ç–µ–≥ {% endwith %}

        ‚Ä¢ pluralize, —á—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å
        –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –¥–ª—è —Å–ª–æ–≤–∞ comment, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è
        total_comments. 
        –®–∞–±–ª–æ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞ –≤—Ö–æ–¥–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π,
        –∫ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è, –∏ –Ω–∞ –≤—ã—Ö–æ–¥–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ-
        –Ω–∏–µ. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞—Ö –º—ã —É–∑–Ω–∞–µ–º –≤ –≥–ª–∞–≤–µ 3 ¬´–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ
        –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –±–ª–æ–≥–∞¬ª.
        –®–∞–±–ª–æ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä pluralize –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–π –ª–∏—Ç–µ—Ä–∞–ª —Å –±—É–∫–≤–æ–π ¬´s¬ª,
        –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç 1. –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –≤—ã—à–µ —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –ø—Ä–æ—Ä–∏—Å–æ–≤—ã-
        –≤–∞—Ç—å—Å—è –∫–∞–∫ 0 comments, 1 comment –∏–ª–∏ N comments, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —á–∏—Å–ª–∞
        –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –ø–æ—Å—Ç—É.


        –¥–æ–±–∞–≤–∏–º —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ —à–∞–±–ª–æ–Ω –¥–µ—Ç–∞–ª—å-
–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Å—Ç–µ.

detail.html
        {% extends "blog/base.html" %}

        {% block title %}
            {{ post.title }}
        {% endblock %}

        {% block content %}
            <h1>{{ post.title }}</h1>

            <p class="date">
                –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω: {{ post.publish }}, –∞–≤—Ç–æ—Ä: {{ post.author }}
            </p>
            {{ post.body|linebreaks }}  

            <!-- –û–±—â–µ–µ —á–∏—Å–ª–æ –∫–æ–º-–µ–≤ –∫ –ø–æ—Å—Ç—É -->
            {% with comments.count as total_comments %}
                <h2>
                    {{ total_comments }} comment{{ total_comments|pluralize }}
                    <hr>
                </h2>
            {% endwith %}

            <!-- —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –ø–æ—Å—Ç—É -->
            {% for comment in comments %}
                <div class="comment">
                    <p class="info">
                        –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π {{ forloop.counter }}, 
                        –∞–≤—Ç–æ—Ä: {{ comment.name }},
                        —Å–æ–∑–¥–∞–Ω: {{ comment.created }}
                    </p>
                    {{ comment.body|linebreaks }}
                </div>
                {% empty %}
                    <p>–ü–æ–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ—Ç.</p>
            {% endfor %}            

        {% endblock %}




        
        
        *–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞—é—Ç—Å—è –≤ —Ü–∏–∫–ª–µ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π 
        {{ forloop.counter }}, 
        –∫–æ—Ç–æ—Ä–∞—è –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—á–µ—Ç—á–∏–∫ —Ü–∏–∫–ª–∞ –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏. –ü–æ –∫–∞–∂–¥–æ-
        –º—É –ø–æ—Å—Ç—É –º—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª, –¥–∞—Ç—É
        –∏ —Ç–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.


        –¥–æ–±–∞–≤–∏–º —Ñ–æ—Ä–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –≤ —à–∞–±–ª–æ–Ω.

detail.html
        {% extends "blog/base.html" %}

        {% block title %}
            {{ post.title }}
        {% endblock %}

        {% block content %}
            <h1>{{ post.title }}</h1>

            <p class="date">
                –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω: {{ post.publish }}, –∞–≤—Ç–æ—Ä: {{ post.author }}
            </p>
            {{ post.body|linebreaks }}  

            <!-- –û–±—â–µ–µ —á–∏—Å–ª–æ –∫–æ–º-–µ–≤ –∫ –ø–æ—Å—Ç—É -->
            {% with comments.count as total_comments %}
                <h2>
                    {{ total_comments }} comment{{ total_comments|pluralize }}
                    <hr>
                </h2>
            {% endwith %}

            <!-- —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –ø–æ—Å—Ç—É -->
            {% for comment in comments %}
                <div class="comment">
                    <p class="info">
                        –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π {{ forloop.counter }}, 
                        –∞–≤—Ç–æ—Ä: {{ comment.name }},
                        —Å–æ–∑–¥–∞–Ω: {{ comment.created }}
                    </p>
                    {{ comment.body|linebreaks }}
                </div>
                {% empty %}
                    <p>–ü–æ–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ—Ç.</p>
            {% endfor %}

            <!-- –¥–æ–±–∞–≤–ª—è—é —Ñ–æ—Ä–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è -->
            {% include "blog/post/includes/comment_form.html" %}

        {% endblock %}


$ ./manage.py runserver


–¥–ª—è README
–ß–µ—Ä–Ω–æ–≤–∏–∫ –¥–ª—è üìΩ –ö–∏–Ω–æ–±–ª–æ–≥ –°—Ç–∞—Ä–∏–Ω—Å–∫–æ–≥–æ
–ó–∞–∫—Ä–µ–ø–ª—è—é –ø–µ—Ä–≤—ã–µ –¥–≤–µ –≥–ª–∞–≤—ã Django 4

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∏—Ç (—Ä—É—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª):
-—Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤(–ó–∞–≥–æ–ª–æ–≤–æ–∫, –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –∞–≤—Ç–æ—Ä). –û–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤
-–ü–∞–≥–∏–Ω–∞—Ü–∏—è
-–¥–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ (–ó–∞–≥–æ–ª–æ–≤–æ–∫, –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –∞–≤—Ç–æ—Ä, –∫–æ–ª-–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –Ω–æ–º–µ—Ä–æ–º, –∞–≤—Ç–æ—Ä–æ–º, –¥–∞—Ç–æ–π —Å–æ–∑–¥–∞–Ω–∏—è)+—Ñ–æ—Ä–º–∞ –¥–ª—è –¥–æ–±–∞–≤–æ–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
-–≤ –∞–¥–º–∏–Ω–∫–µ —Ñ–∏–ª—å—Ç—Ä—ã, –ø–æ–∏—Å–∫
-—Ç–∞–∫ –∂–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–æ—Ä—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ—Å—Ç–æ–≤ –æ—Ç —Å–≤–µ–∂–∏—Ö, slug











pgn 129
—Å–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞
        *—Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, 
        *—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è —Å—Ö–æ–∂–∏—Ö –ø–æ—Å—Ç–æ–≤, 
        *–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–∏—Ç–∞—Ç–µ–ª—è–º –Ω–æ–≤–æ—Å—Ç–Ω–æ–π RSS-–ª–µ–Ω—Ç—ã
        *–ø–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤.


               --- –ü–ª–∞–Ω—ã, –≤–æ–ø—Ä–æ—Å—ã ---
-–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ (–£–±—Ä–∞—Ç—å –º–∞–∏–ª)

-–ø–æ–¥ –ø–æ—Å—Ç–æ–º –µ—Å—Ç—å —Ñ–æ—Ä–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π), –≤ –Ω–µ–π Name, Body
–Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–∏–π. –≠—Ç–æ —Ç–æ–ª—å–∫–æ –≤ –º–æ–¥–µ–ª–∏?

-–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É –Ω–∞ —Å–ø–∏—Å–∫–µ –ø–æ—Å—Ç–æ–≤ –∏ —Ç—Ä–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ —Å–∞–º–æ–º –ø–æ—Å—Ç–µ?

-–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ –±—ã –Ω–∞ —Å–ø–∏—Å–∫–µ –ø–æ—Å—Ç–æ–≤, —É–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤?

-–ù–∞ —Å–∞–π—Ç–µ "3 comments":
detail.html:
         <!-- –û–±—â–µ–µ —á–∏—Å–ª–æ –∫–æ–º-–µ–≤ –∫ –ø–æ—Å—Ç—É -->
            {% with comments.count as total_comments %}
                <h2>
                    {{ total_comments }} comment{{ total_comments|pluralize }}
                    <hr>
                </h2>
            {% endwith %}

        pluralize-–¥–æ–±–∞–≤–ª—è–µ—Ç 's' –µ—Å–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ, –∞ –≤ —Ä—É—Å—Å–∫–æ–º
        1-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
        2(3, 4)-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        5-–∫–æ–º–º–µ–Ω—Ç—Ä–∏–µ–≤  
        –ö–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –≤ —Ä—É—Å—Å–∫–æ–π –≤–µ—Ä—Å–∏–∏?















https://github.com/PacktPublishing/Django-4-by-example/tree/main/Chapter02
